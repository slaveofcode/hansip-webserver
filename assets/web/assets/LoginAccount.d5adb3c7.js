import{d as f,a as _,z as h,u as b,k as i,l as x,r as v,o as w,b as y,e as t,m as c,v as m,g,w as k,n as A,i as B}from"./index.7e98157d.js";import{s as C}from"./index.23aca5cf.js";const L={class:"flex flex-col"},N=t("h1",{class:"text-3xl mb-3"},"Login Account",-1),S={class:"form-control textbox"},V=t("span",null,"Email Address",-1),j={class:"form-control textbox"},q=t("span",null,"Password",-1),E={class:"flex flex-row justify-between items-center w-full"},M=B("Back"),P=t("button",{type:"submit",class:"block btn btn-orange"},"Login",-1),z=f({__name:"LoginAccount",setup(R){const l=_(),u=h(),n=b(),o=i(),r=i();x(o,s=>{s!=""&&typeof s=="string"&&(o.value=s.toLowerCase())});const d=async()=>{if(!await l.login({email:o.value,password:r.value})){C("Wrong email or password");return}try{await l.validateAuth()}catch{}if(u.query.url){n.push({path:u.query.url}).catch(()=>{n.push({name:"home"})});return}n.push({name:"home"})};return(s,e)=>{const p=v("router-link");return w(),y("div",L,[N,t("form",{onSubmit:e[2]||(e[2]=A(a=>d(),["prevent"])),class:"form flex flex-col justify-start items-start mt-3"},[t("label",S,[V,c(t("input",{type:"email","onUpdate:modelValue":e[0]||(e[0]=a=>o.value=a)},null,512),[[m,o.value]])]),t("label",j,[q,c(t("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=a=>r.value=a)},null,512),[[m,r.value]])]),t("div",E,[g(p,{to:{name:"home"},class:"block btn btn-blue"},{default:k(()=>[M]),_:1}),P])],32)])}}});export{z as default};
